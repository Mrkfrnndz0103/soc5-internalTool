"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{3780:function(e,r,o){o.d(r,{f:function(){return u},F:function(){return c}});var t=o(7437),n=o(2265);let a={default:{name:"Default",properties:{"--background":"30 25% 96%","--foreground":"20 14% 20%","--card":"0 0% 100%","--card-foreground":"20 14% 20%","--primary":"25 95% 53%","--primary-foreground":"0 0% 100%","--secondary":"30 20% 92%","--secondary-foreground":"20 14% 20%","--muted":"30 15% 94%","--muted-foreground":"20 10% 45%","--accent":"35 85% 88%","--accent-foreground":"20 14% 20%","--border":"30 15% 88%"},light:{"--background":"30 25% 96%","--foreground":"20 14% 20%","--card":"0 0% 100%","--card-foreground":"20 14% 20%","--primary":"25 95% 53%","--primary-foreground":"0 0% 100%","--secondary":"30 20% 92%","--secondary-foreground":"20 14% 20%","--muted":"30 15% 94%","--muted-foreground":"20 10% 45%","--accent":"35 85% 88%","--accent-foreground":"20 14% 20%","--border":"30 15% 88%"},dark:{"--background":"20 14% 12%","--foreground":"30 15% 95%","--card":"20 14% 16%","--card-foreground":"30 15% 95%","--primary":"25 95% 53%","--primary-foreground":"0 0% 100%","--secondary":"20 14% 20%","--secondary-foreground":"30 15% 95%","--muted":"20 14% 20%","--muted-foreground":"30 10% 65%","--accent":"20 14% 20%","--accent-foreground":"30 15% 95%","--border":"20 14% 20%"}},ocean:{name:"Ocean",properties:{"--background":"210 40% 96%","--foreground":"210 40% 15%","--card":"0 0% 100%","--card-foreground":"210 40% 15%","--primary":"210 100% 50%","--primary-foreground":"0 0% 100%","--secondary":"210 30% 90%","--secondary-foreground":"210 40% 15%","--muted":"210 25% 92%","--muted-foreground":"210 20% 45%","--accent":"195 85% 85%","--accent-foreground":"210 40% 15%","--border":"210 25% 85%"},light:{"--background":"210 40% 96%","--foreground":"210 40% 15%","--card":"0 0% 100%","--card-foreground":"210 40% 15%","--primary":"210 100% 50%","--primary-foreground":"0 0% 100%","--secondary":"210 30% 90%","--secondary-foreground":"210 40% 15%","--muted":"210 25% 92%","--muted-foreground":"210 20% 45%","--accent":"195 85% 85%","--accent-foreground":"210 40% 15%","--border":"210 25% 85%"},dark:{"--background":"210 50% 8%","--foreground":"210 30% 95%","--card":"210 45% 12%","--card-foreground":"210 30% 95%","--primary":"210 100% 55%","--primary-foreground":"0 0% 100%","--secondary":"210 40% 18%","--secondary-foreground":"210 30% 95%","--muted":"210 35% 18%","--muted-foreground":"210 20% 65%","--accent":"210 40% 20%","--accent-foreground":"210 30% 95%","--border":"210 35% 22%"}},forest:{name:"Forest",properties:{"--background":"140 30% 96%","--foreground":"140 40% 15%","--card":"0 0% 100%","--card-foreground":"140 40% 15%","--primary":"145 65% 45%","--primary-foreground":"0 0% 100%","--secondary":"140 25% 90%","--secondary-foreground":"140 40% 15%","--muted":"140 20% 92%","--muted-foreground":"140 15% 45%","--accent":"145 50% 85%","--accent-foreground":"140 40% 15%","--border":"140 20% 85%"},light:{"--background":"140 30% 96%","--foreground":"140 40% 15%","--card":"0 0% 100%","--card-foreground":"140 40% 15%","--primary":"145 65% 45%","--primary-foreground":"0 0% 100%","--secondary":"140 25% 90%","--secondary-foreground":"140 40% 15%","--muted":"140 20% 92%","--muted-foreground":"140 15% 45%","--accent":"145 50% 85%","--accent-foreground":"140 40% 15%","--border":"140 20% 85%"},dark:{"--background":"140 35% 10%","--foreground":"140 20% 95%","--card":"140 30% 14%","--card-foreground":"140 20% 95%","--primary":"145 65% 50%","--primary-foreground":"0 0% 100%","--secondary":"140 25% 20%","--secondary-foreground":"140 20% 95%","--muted":"140 20% 20%","--muted-foreground":"140 15% 65%","--accent":"140 25% 22%","--accent-foreground":"140 20% 95%","--border":"140 20% 24%"}},sunset:{name:"Sunset",properties:{"--background":"15 35% 96%","--foreground":"15 40% 15%","--card":"0 0% 100%","--card-foreground":"15 40% 15%","--primary":"10 85% 55%","--primary-foreground":"0 0% 100%","--secondary":"15 30% 90%","--secondary-foreground":"15 40% 15%","--muted":"15 25% 92%","--muted-foreground":"15 20% 45%","--accent":"25 90% 88%","--accent-foreground":"15 40% 15%","--border":"15 25% 85%"},light:{"--background":"15 35% 96%","--foreground":"15 40% 15%","--card":"0 0% 100%","--card-foreground":"15 40% 15%","--primary":"10 85% 55%","--primary-foreground":"0 0% 100%","--secondary":"15 30% 90%","--secondary-foreground":"15 40% 15%","--muted":"15 25% 92%","--muted-foreground":"15 20% 45%","--accent":"25 90% 88%","--accent-foreground":"15 40% 15%","--border":"15 25% 85%"},dark:{"--background":"15 40% 10%","--foreground":"15 25% 95%","--card":"15 35% 14%","--card-foreground":"15 25% 95%","--primary":"10 85% 58%","--primary-foreground":"0 0% 100%","--secondary":"15 30% 20%","--secondary-foreground":"15 25% 95%","--muted":"15 25% 20%","--muted-foreground":"15 20% 65%","--accent":"15 30% 22%","--accent-foreground":"15 25% 95%","--border":"15 25% 24%"}},purple:{name:"Purple",properties:{"--background":"270 30% 96%","--foreground":"270 40% 15%","--card":"0 0% 100%","--card-foreground":"270 40% 15%","--primary":"270 70% 55%","--primary-foreground":"0 0% 100%","--secondary":"270 25% 90%","--secondary-foreground":"270 40% 15%","--muted":"270 20% 92%","--muted-foreground":"270 15% 45%","--accent":"280 75% 88%","--accent-foreground":"270 40% 15%","--border":"270 20% 85%"},light:{"--background":"270 30% 96%","--foreground":"270 40% 15%","--card":"0 0% 100%","--card-foreground":"270 40% 15%","--primary":"270 70% 55%","--primary-foreground":"0 0% 100%","--secondary":"270 25% 90%","--secondary-foreground":"270 40% 15%","--muted":"270 20% 92%","--muted-foreground":"270 15% 45%","--accent":"280 75% 88%","--accent-foreground":"270 40% 15%","--border":"270 20% 85%"},dark:{"--background":"270 40% 10%","--foreground":"270 25% 95%","--card":"270 35% 14%","--card-foreground":"270 25% 95%","--primary":"270 70% 58%","--primary-foreground":"0 0% 100%","--secondary":"270 30% 20%","--secondary-foreground":"270 25% 95%","--muted":"270 25% 20%","--muted-foreground":"270 20% 65%","--accent":"270 30% 22%","--accent-foreground":"270 25% 95%","--border":"270 25% 24%"}},rose:{name:"Rose",properties:{"--background":"340 30% 96%","--foreground":"340 40% 15%","--card":"0 0% 100%","--card-foreground":"340 40% 15%","--primary":"345 75% 55%","--primary-foreground":"0 0% 100%","--secondary":"340 25% 90%","--secondary-foreground":"340 40% 15%","--muted":"340 20% 92%","--muted-foreground":"340 15% 45%","--accent":"350 80% 88%","--accent-foreground":"340 40% 15%","--border":"340 20% 85%"},light:{"--background":"340 30% 96%","--foreground":"340 40% 15%","--card":"0 0% 100%","--card-foreground":"340 40% 15%","--primary":"345 75% 55%","--primary-foreground":"0 0% 100%","--secondary":"340 25% 90%","--secondary-foreground":"340 40% 15%","--muted":"340 20% 92%","--muted-foreground":"340 15% 45%","--accent":"350 80% 88%","--accent-foreground":"340 40% 15%","--border":"340 20% 85%"},dark:{"--background":"340 35% 10%","--foreground":"340 25% 95%","--card":"340 30% 14%","--card-foreground":"340 25% 95%","--primary":"345 75% 58%","--primary-foreground":"0 0% 100%","--secondary":"340 25% 20%","--secondary-foreground":"340 25% 95%","--muted":"340 20% 20%","--muted-foreground":"340 15% 65%","--accent":"340 25% 22%","--accent-foreground":"340 25% 95%","--border":"340 20% 24%"}}},d=(0,n.createContext)({theme:"system",setTheme:()=>null,themePreset:"default",setThemePreset:()=>null});function u(e){let{children:r,defaultTheme:o="system",storageKey:u="next-ui-theme",defaultThemePreset:c="default",themePresetKey:s="next-ui-theme-preset",...i}=e,[g,f]=(0,n.useState)(o),[m,l]=(0,n.useState)(c);return(0,n.useEffect)(()=>{let e=localStorage.getItem(u),r=localStorage.getItem(s);e&&f(e),r&&l(r)},[u,s]),(0,n.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),Object.keys(a).forEach(r=>{e.classList.remove("theme-".concat(r))}),"system"===g){let r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(r),e.setAttribute("data-theme",r)}else e.classList.add(g),e.setAttribute("data-theme",g);if(m){e.classList.add("theme-".concat(m));let r=a[m];r&&r.properties&&Object.entries(r.properties).forEach(r=>{let[o,t]=r;e.style.setProperty(o,t)})}},[g,m]),(0,t.jsx)(d.Provider,{...i,value:{theme:g,setTheme:e=>{localStorage.setItem(u,e),f(e)},themePreset:m,setThemePreset:e=>{localStorage.setItem(s,e),l(e)}},children:r})}let c=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},8752:function(e,r,o){o.d(r,{pm:function(){return f}});var t=o(2265);let n=0,a=new Map,d=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),i({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},u=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:o}=r;return o?d(o):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},c=[],s={toasts:[]};function i(e){s=u(s,e),c.forEach(e=>{e(s)})}function g(e){let{...r}=e,o=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>i({type:"DISMISS_TOAST",toastId:o});return i({type:"ADD_TOAST",toast:{...r,id:o,open:!0,onOpenChange:e=>{e||t()}}}),{id:o,dismiss:t,update:e=>i({type:"UPDATE_TOAST",toast:{...e,id:o}})}}function f(){let[e,r]=t.useState(s);return t.useEffect(()=>(c.push(r),()=>{let e=c.indexOf(r);e>-1&&c.splice(e,1)}),[]),{...e,toast:g,dismiss:e=>i({type:"DISMISS_TOAST",toastId:e})}}},4881:function(e,r,o){o.d(r,{H:function(){return c},a:function(){return s}});var t=o(7437),n=o(2265),a=o(1837);let d=(0,n.createContext)(void 0),u="auth_last_active";function c(e){let{children:r}=e,[o,c]=(0,n.useState)({user:null,isReady:!1}),s=(0,n.useRef)(0);(0,n.useEffect)(()=>{let e=!1;return(async()=>{var r,o;let t=await a.iJ.getSession();if(e)return;let n=null!==(o=null===(r=t.data)||void 0===r?void 0:r.user)&&void 0!==o?o:null;if(n){let e=Date.now();localStorage.setItem(u,String(e)),s.current=e}c({user:n,isReady:!0})})().catch(()=>{e||c({user:null,isReady:!0})}),()=>{e=!0}},[]);let i=(0,n.useCallback)(e=>{let r=Date.now();localStorage.setItem(u,String(r)),s.current=r,c({user:e,isReady:!0})},[]),g=(0,n.useCallback)(()=>{a.iJ.logout().catch(()=>void 0),localStorage.removeItem(u),s.current=0,c(e=>({user:null,isReady:e.isReady}))},[]),f=(0,n.useCallback)(e=>{c(r=>{if(!r.user)return r;let o={...r.user,...e};return{...r,user:o}})},[]);return(0,n.useEffect)(()=>{if(!o.user)return;let e=()=>{let e=Date.now();e-s.current<3e4||(s.current=e,localStorage.setItem(u,String(e)))},r=["mousemove","mousedown","keydown","scroll","touchstart"];r.forEach(r=>window.addEventListener(r,e,{passive:!0}));let t=window.setInterval(()=>{let e=localStorage.getItem(u),r=e?Number(e):0;r&&Date.now()-r>36e5&&g()},6e4);return()=>{r.forEach(r=>window.removeEventListener(r,e)),window.clearInterval(t)}},[o.user,g]),(0,t.jsx)(d.Provider,{value:{user:o.user,login:i,logout:g,updateUser:f,isAuthenticated:!!o.user,isReady:o.isReady},children:r})}function s(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1837:function(e,r,o){o.d(r,{gL:function(){return u},i$:function(){return c},iJ:function(){return d}});let t={"Content-Type":"application/json"};async function n(e,r){try{let o=await fetch(e,{...r,credentials:"include",headers:{...t,...(null==r?void 0:r.headers)||{}}}),n=await o.json().catch(()=>null);if(!o.ok)return{error:(null==n?void 0:n.error)||o.statusText};return{data:n}}catch(e){return{error:e instanceof Error?e.message:"Request failed"}}}function a(e){let r=new URLSearchParams;Object.entries(e).forEach(e=>{let[o,t]=e;void 0!==t&&""!==t&&r.append(o,String(t))});let o=r.toString();return o?"?".concat(o):""}let d={login:async(e,r)=>n("/api/auth/login",{method:"POST",body:JSON.stringify({ops_id:e,password:r})}),createSeatalkSession:async e=>n("/api/auth/seatalk/session",{method:"POST",body:JSON.stringify({session_id:e})}),checkSeatalkAuth:async e=>n("/api/auth/seatalk/check".concat(a({session_id:e})),{method:"GET"}),googleLogin:async e=>n("/api/auth/google",{method:"POST",body:JSON.stringify({id_token:e})}),getSession:async()=>n("/api/auth/me",{method:"GET"}),logout:async()=>n("/api/auth/logout",{method:"POST"}),changePassword:async(e,r,o)=>n("/api/auth/change-password",{method:"POST",body:JSON.stringify({ops_id:e,old_password:r,new_password:o})}),getUserById:async e=>n("/api/users/".concat(encodeURIComponent(e)),{method:"GET"}),getUser:async e=>n("/api/users/ops/".concat(encodeURIComponent(e)),{method:"GET"})},u={getUser:async e=>n("/api/users/ops/".concat(encodeURIComponent(e)),{method:"GET"}),getClusters:async(e,r)=>n("/api/lookup/clusters".concat(a({region:e,query:r})),{method:"GET"}),getHubs:async e=>n("/api/lookup/hubs".concat(a({cluster:e})),{method:"GET"}),getProcessors:async e=>n("/api/lookup/processors".concat(a({query:e})),{method:"GET"}),getLhTrip:async e=>n("/api/lookup/lh-trip".concat(a({lhTrip:e})),{method:"GET"})},c={submitRows:async(e,r)=>n("/api/dispatch/submit",{method:"POST",body:JSON.stringify({rows:e,submitted_by_ops_id:r})}),getDispatches:async e=>n("/api/dispatch".concat(a(e)),{method:"GET"}),verifyRows:async e=>n("/api/dispatch/verify",{method:"POST",body:JSON.stringify(e)})}},3448:function(e,r,o){o.d(r,{cn:function(){return a},o:function(){return d}});var t=o(1994),n=o(3335);function a(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return(0,n.m6)((0,t.W)(r))}function d(e){return e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}}}]);