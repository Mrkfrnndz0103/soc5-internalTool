"use strict";(()=>{var e={};e.id=1547,e.ids=[1547],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},21505:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>p,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>h});var s=r(49303),n=r(88716),a=r(60670),u=r(16576),i=e([u]);u=(i.then?(await i)():i)[0];let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/lookup/clusters/route",pathname:"/api/lookup/clusters",filename:"route",bundlePath:"app/api/lookup/clusters/route"},resolvedPagePath:"C:\\Users\\phlspxuser\\Documents\\Mrkcde\\Ongoing\\soc5-internalTool\\src\\app\\api\\lookup\\clusters\\route.ts",nextConfigOutput:"",userland:u}),{requestAsyncStorage:c,staticGenerationAsyncStorage:h,serverHooks:d}=l,g="/api/lookup/clusters/route";function p(){return(0,a.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:h})}o()}catch(e){o(e)}})},16576:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{GET:()=>u});var s=r(87070),n=r(75748),a=e([n]);async function u(e){let{searchParams:t}=new URL(e.url),r=t.get("region"),o=t.get("query"),a=["active = true"],u=[];r&&(u.push(r),a.push(`region = $${u.length}`)),o&&(u.push(`%${o}%`),a.push(`cluster_name ILIKE $${u.length}`));let i=a.length?`WHERE ${a.join(" AND ")}`:"",p=await (0,n.I)(`SELECT DISTINCT cluster_name, region
     FROM outbound_map
     ${i}
     ORDER BY cluster_name`,u);return s.NextResponse.json(p.rows)}n=(a.then?(await a)():a)[0],o()}catch(e){o(e)}})},75748:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.d(t,{I:()=>a});var s=r(8678),n=e([s]);s=(n.then?(await n)():n)[0];let u=process.env.DATABASE_URL;if(!u)throw Error("DATABASE_URL is not set");let i="true"===process.env.DATABASE_SSL,p=globalThis.__pgPool||new s.Pool({connectionString:u,ssl:i?{rejectUnauthorized:!1}:void 0});async function a(e,t){return p.query(e,t)}globalThis.__pgPool||(globalThis.__pgPool=p),o()}catch(e){o(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[9276,5972],()=>r(21505));module.exports=o})();