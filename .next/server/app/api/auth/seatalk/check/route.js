"use strict";(()=>{var e={};e.id=1551,e.ids=[1551],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},87996:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{originalPathname:()=>g,patchFetch:()=>c,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>h});var r=a(49303),o=a(88716),n=a(60670),i=a(10135),u=e([i]);i=(u.then?(await u)():u)[0];let l=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/seatalk/check/route",pathname:"/api/auth/seatalk/check",filename:"route",bundlePath:"app/api/auth/seatalk/check/route"},resolvedPagePath:"C:\\Users\\phlspxuser\\Documents\\Mrkcde\\Ongoing\\soc5-internalTool\\src\\app\\api\\auth\\seatalk\\check\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:p,staticGenerationAsyncStorage:h,serverHooks:d}=l,g="/api/auth/seatalk/check/route";function c(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:h})}s()}catch(e){s(e)}})},10135:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{GET:()=>i});var r=a(87070),o=a(75748),n=e([o]);async function i(e){let{searchParams:t}=new URL(e.url),a=t.get("session_id");if(!a)return r.NextResponse.json({error:"session_id is required"},{status:400});let s=await (0,o.I)(`SELECT email, authenticated
     FROM seatalk_sessions
     WHERE session_id = $1 AND authenticated = true
     LIMIT 1`,[a]);return 0===s.rows.length?r.NextResponse.json(null):r.NextResponse.json({email:s.rows[0].email,authenticated:s.rows[0].authenticated})}o=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},75748:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{I:()=>n});var r=a(8678),o=e([r]);r=(o.then?(await o)():o)[0];let i=process.env.DATABASE_URL;if(!i)throw Error("DATABASE_URL is not set");let u="true"===process.env.DATABASE_SSL,c=globalThis.__pgPool||new r.Pool({connectionString:i,ssl:u?{rejectUnauthorized:!1}:void 0});async function n(e,t){return c.query(e,t)}globalThis.__pgPool||(globalThis.__pgPool=c),s()}catch(e){s(e)}})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[9276,5972],()=>a(87996));module.exports=s})();